<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esham</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/Main_template_style.css">
    <link rel="stylesheet" href="css/Registeration.css">
    <script src="js/Registeration.js" defer></script>
</head>
<body>
  <a href="Home.html" class="esh-logo">Esham</a>

<main>
  <div class="main-container">
    <!-- Left Panel: Register buttons -->
    <div class="left-panel">
      <p class="esham-description">
        Esham is a digital platform connecting landowners and real estate developers to bring real estate projects to life efficiently and seamlessly.
    </p>
    
      <h2>Register As:</h2>
      <button id="landowner-register" class="register-btn">
        <img src="icons/Landowner logo.svg" alt="Landowner Icon" class="btn-icon">
        Landowner
    </button>
    
    <button id="realestate-register" class="register-btn">
        <img src="icons/Realestate logo.svg" alt="Real Estate Icon" class="btn-icon">
        Real Estate
    </button>
    
    </div>

    <!-- Right Panel: Login + Signup forms (with slider) -->
    <div class="right-panel">
      <div class="slider">

        <!-- Login Container -->
        <div class="login-container">
          <h2>Login</h2>
          <div id="login-error" style="color:red; font-weight: bold;"></div>
          <form method="POST" action="/login">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Password</label>
            <input type="password" id="password" name="password" required>

            <button type="submit" class="login-btn">Login</button>
          </form>

          <p class="forgot-password">Forget Password?</p>
         
          <div class="divider">
            <span>Or</span>
          </div>
          

          <div class="google-login">
            <button class="google-btn" onclick="loginWithGoogle()">
              <img src="images/7123025_logo_google_g_icon.png"> Sign in with Google
            </button>
          </div>
        </div>

        <!-- Signup Container -->
        <div class="signup-container">
          <!-- Landowner Registration Form -->
          <div class="form-container landownersignup-container" style="display: none; padding-right: 45px;">
            <h2>Landowner Sign Up</h2>
            <div id="register-error" style="color:red; font-weight: bold;"></div>
            <form method="POST" action="/register/landowner">
              
              <label for="fullname">Full Name</label>
              <input type="text" id="fullname" name="fullname" placeholder="Ex: Ahmed Al-Saud" required>
          
              <label for="idnumber">Saudi ID Number</label>
              <input type="text" id="idnumber" name="idnumber" placeholder="Ex: 1234567890" required>
          
              <label for="phone">Phone Number</label>
              <div class="phone-wrapper">
                <span style="margin-left: 5px; color: black;">+966</span>
                <input 
                  type="text" 
                  id="phone" 
                  name="phone" 
                  maxlength="9"
                  placeholder="Ex: 5XXXXXXXX"
                  required
                >
              </div>
              <script>
            
                document.getElementById('phone').addEventListener('input', function () {
                    this.value = this.value.replace(/\D/g, ''); // Allow only digits
                });
                </script>
              <label for="email">Email</label>
              <input type="email" id="email" name="email" placeholder="Ex: example@email.com" required>
          
              <label for="password">Password</label>
              <input type="password" id="password" name="password" placeholder="Ex: StrongPassword@123" required>
              
              <div class="terms">
                <input type="checkbox" id="terms" required>
                <label for="terms">I accept the <a href="Terms.html">terms and agreement</a></label>
              </div>
          
              <button type="submit">Sign Up</button>
          
              <div class="back-link">
                Already have an account? <a href="#" class="back-btn">Sign in</a>
              </div>
              
            </form>
          </div>

          <!-- Real Estate Registration Form -->
          <div class="form-container Realestatesignup-container" style="display: none; padding-right: 45px;">
            <h2>Real Estate Sign Up</h2>
            <div id="register-error" style="color:red; font-weight: bold;"></div>
            <form method="POST" action="/register/realestate">
              
              <label for="company">Company Name</label>
              <input type="text" id="company" name="company" placeholder="Ex: Al-Nakheel Properties" required>
          
              <label for="businessReg">Business Registration Number</label>
              <input type="text" id="businessReg" name="businessReg" placeholder="Ex: 1012345678" required>
          
              <label for="taxId">Tax Number</label>
              <input type="text" id="taxId" name="taxId" placeholder="Ex: 300123456700003" required>
          
              <label for="address">Company Address</label>
              <input type="text" id="address" name="address" placeholder="Ex: Riyadh, King Fahad Road" required>
          
              <label for="email">Email</label>
              <input type="email" id="email" name="email" placeholder="Ex: contact@company.com" required>
          
              <label for="phone">Phone Number</label>
              <div class="phone-wrapper">
                <span style="margin-left: 5px; color: black;">+966</span>
                <input 
                  type="text" 
                  id="phone" 
                  name="phone" 
                  maxlength="9"
                  placeholder="Ex: 5XXXXXXXX"
                  required
                >
              </div>
          
              <label for="password">Password</label>
              <input type="password" id="password" name="password" placeholder="Ex: CompanyPassword@123" required>
          
              <div class="terms">
                <input type="checkbox" id="terms" required>
                <label for="terms">I accept the <a href="Terms.html">terms and agreement</a></label>
              </div>
          
              <button type="submit">Sign Up</button>
          
              <div class="back-link">
                Already have an account? <a href="#" class="back-btn">Sign in</a>
              </div>
          
            </form>
          </div>
          
        </div>

      </div>
    </div>
  </div>
</main>


    <script>
      const loginParams = new URLSearchParams(window.location.search);
      const loginError = loginParams.get("error");
      if (loginError) {
        const loginDiv = document.getElementById("login-error");
        if (loginDiv) loginDiv.innerText = decodeURIComponent(loginError);
      }

      const regParams = new URLSearchParams(window.location.search);
      const regError = regParams.get("error");
      if (regError) {
        const regDiv = document.getElementById("register-error");
        if (regDiv) regDiv.innerText = decodeURIComponent(regError);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const landBtn = document.getElementById("landowner-register");
        const realBtn = document.getElementById("realestate-register");
        const landForm = document.querySelector(".landownersignup-container");
        const realForm = document.querySelector(".Realestatesignup-container");
        const loginForm = document.querySelector(".login-wrapper");

        landBtn.addEventListener("click", () => {
          loginForm.style.display = "none";
          realForm.style.display = "none";
          landForm.style.display = "block";
        });

        realBtn.addEventListener("click", () => {
          loginForm.style.display = "none";
          landForm.style.display = "none";
          realForm.style.display = "block";
        });

        document.querySelectorAll(".back-btn").forEach(btn => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            landForm.style.display = "none";
            realForm.style.display = "none";
            loginForm.style.display = "block";
          });
        });
      });
    </script>

    <script>
      const params = new URLSearchParams(window.location.search);
      const error = params.get("error");
      if (error) {
        const errorDiv = document.getElementById("login-error");
        if (errorDiv) errorDiv.innerText = decodeURIComponent(error);
      }
    </script>
    
</body>
</html>
