<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esham</title>
    <link rel="stylesheet" href="css/Main_template_style.css">
    <link rel="stylesheet" href="css/Registeration.css">
    <script src="js/Registeration.js" defer></script>
</head>
<body>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const forms = document.querySelectorAll('form[action="/register/landowner"], form[action="/register/realestate"]');
      
      forms.forEach(form => {
        form.addEventListener('submit', function (e) {
          const passwordInput = form.querySelector('input[name="password"]');
          const passwordErrorDiv = form.querySelector('.password-error');
          const password = passwordInput.value.trim();
    
          // تحقق من كلمة المرور
          const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*_\-=+~]).{10,15}$/;
    
          if (!passwordRegex.test(password)) {
            e.preventDefault(); // يمنع الإرسال
            passwordErrorDiv.textContent = "Password must be 10-15 characters, and include at least: 1 uppercase letter, 1 lowercase letter, 1 special character (!@#$%^&*_-+=~).";
            passwordInput.focus();
          } else {
            passwordErrorDiv.textContent = ""; // إذا صحيح، يمسح رسالة الخطأ
          }
        });
      });
    });
    </script>

    <!--  Real Estate-->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const forms = document.querySelectorAll('form[action="/register/landowner"], form[action="/register/realestate"]');
        
        forms.forEach(form => {
          form.addEventListener('submit', function (e) {
            const passwordInput = form.querySelector('input[name="password"]');
            const passwordErrorDiv = form.querySelector('.password-error') || document.createElement('div');
      
            if (!passwordErrorDiv.classList.contains('password-error')) {
              passwordErrorDiv.classList.add('password-error');
              passwordErrorDiv.style.color = "red";
              passwordErrorDiv.style.marginTop = "5px";
              passwordInput.parentNode.insertBefore(passwordErrorDiv, passwordInput.nextSibling);
            }
      
            const password = passwordInput.value.trim();
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*_\-=+~]).{10,15}$/;
      
            if (!passwordRegex.test(password)) {
              e.preventDefault();
              passwordErrorDiv.textContent = "Password must be 10-15 characters, and include at least: 1 uppercase letter, 1 lowercase letter, 1 special character (!@#$%^&*_-+=~).";
              passwordInput.focus();
            } else {
              passwordErrorDiv.textContent = "";
            }
          });
        });
      });
      </script>
      

    
  <header>
    <nav>
        <div class="logo">
            <img src="images/logonav.jpg" alt="Esham Logo" />
        </div>
        <ul class="nav-links">
          <li><a href="Home.html">Home</a></li>
          <li><a href="Helper.html">Musahem</a></li>
          <li><a href="Who.html">Who are we?</a></li>
          <li><a href="FAQ.html">FAQ</a></li>
          <li><a href="Contact.html">Contact Us</a></li>
        </ul>

        <ul class="registeration">
          <li class="login">
              <button type="button" onclick="window.location.href='Registeration.html'">Sign in</button>
          </li>
          <li class="register">
              <button type="button" onclick="window.location.href='Registeration.html'">Register Now</button>
          </li>
      </ul>
    </nav>
</header>

    <main>
        <div class="login-wrapper">
          <div class="login-container">
              <h2>Login</h2>
              <div id="login-error" style="color:red; font-weight: bold;"></div>
              <form method="POST" action="/login">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>

                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>

                <button type="submit" class="login-btn">Login</button>
              </form>

              <p class="forgot-password">Forget Password?</p>

              <div class="google-login">
                <button class="google-btn" onclick="loginWithGoogle()">
                    <img src="images/7123025_logo_google_g_icon.png"> Sign in with Google
                </button>
              </div>

              <p class="register-text">Or Register as:</p>
              <div class="register-btn-container">
                  <button class="register-btn" id="landowner-register">
                      <img src="images/Screenshot 2025-02-22 160949.png" alt="Land Owner Icon"> Landowner
                  </button>
                  <button class="register-btn" id="realestate-register">
                      <img src="images/Screenshot 2025-02-22 160816.png" alt="Real Estate Icon"> Real Estate
                  </button>
              </div>
          </div>
      </div>

        <!-- Landowner Registration Form -->
        <div class="form-container landownersignup-container" style="display: none; padding-right: 45px;">
            <h2>Landowner Sign Up</h2>
            <div id="register-error" style="color:red; font-weight: bold;"></div>
            <form method="POST" action="/register/landowner">
              <label for="fullname">Full Name</label>
              <input type="text" id="fullname" name="fullname" required>

              <label for="idnumber">Saudi ID Number</label>
              <input type="text" id="idnumber" name="idnumber" required>

              <label for="phone">Phone Number</label>
              <div cdiv class="phone-wrapper" >
                  <span style="margin-left: 5px;color: black;">+966</span>
                  <input 
                      type="text" 
                      id="phone" 
                      name="phone" 
                      maxlength="9"
                 
                      placeholder="5XXXXXXXX"
                      required
                  >
              </div>
              <script>
            
              document.getElementById('phone').addEventListener('input', function () {
                  this.value = this.value.replace(/\D/g, ''); // Allow only digits
              });
              </script>
        
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>

              <label for="password">Password</label>
              <input type="password" id="password" name="password" required>
              <div class="password-error" style="color: red; font-size: 14px; margin-top: 5px;"></div>
              
              
              
              <div class="terms">
                  <input type="checkbox" id="terms" required>
                  <label for="terms">I accept the <a href="Terms.html">terms and agreement</a></label>
              </div>

              <button type="submit">Sign Up</button>
              <button class="back-btn">Back</button>
          </form>
        </div>

        <!-- Real Estate Registration Form -->
        <div class="form-container Realestatesignup-container" style="display: none; padding-right: 45px;">
            <h2>Real Estate Sign Up</h2>
            <div id="register-error" style="color:red; font-weight: bold;"></div>
            <form method="POST" action="/register/realestate">
              <label for="company">Company Name</label>
              <input type="text" id="company" name="company" required>

              <label for="businessReg">Business Registration Number</label>
              <input type="text" id="businessReg" name="businessReg" required>

              <label for="taxId">Tax Number</label>
              <input type="text" id="taxId" name="taxId" required>

              <label for="address">Company Address</label>
              <input type="text" id="address" name="address" required>

              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>

              <div cdiv class="phone-wrapper" >
                <span style="margin-left: 5px;color: black;">+966</span>
                <input 
                    type="text" 
                    id="phone" 
                    name="phone" 
                    maxlength="9"
               
                    placeholder="5XXXXXXXX"
                    required
                >
            </div>
            <script>
          
            document.getElementById('phone').addEventListener('input', function () {
                this.value = this.value.replace(/\D/g, ''); // Allow only digits
            });
            </script>

              <label for="password">Password</label>
              <input type="password" id="password" name="password" required>

              <div class="terms">
                  <input type="checkbox" id="terms" required>
                  <label for="terms">I accept the terms and agreement</label>
              </div>

              <button type="submit">Sign Up</button>
              <button class="back-btn">Back</button>
          </form>
        </div>
    </main>

    <script>
      const loginParams = new URLSearchParams(window.location.search);
      const loginError = loginParams.get("error");
      if (loginError) {
        const loginDiv = document.getElementById("login-error");
        if (loginDiv) loginDiv.innerText = decodeURIComponent(loginError);
      }

      const regParams = new URLSearchParams(window.location.search);
      const regError = regParams.get("error");
      if (regError) {
        const regDiv = document.getElementById("register-error");
        if (regDiv) regDiv.innerText = decodeURIComponent(regError);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const landBtn = document.getElementById("landowner-register");
        const realBtn = document.getElementById("realestate-register");
        const landForm = document.querySelector(".landownersignup-container");
        const realForm = document.querySelector(".Realestatesignup-container");
        const loginForm = document.querySelector(".login-wrapper");

        landBtn.addEventListener("click", () => {
          loginForm.style.display = "none";
          realForm.style.display = "none";
          landForm.style.display = "block";
        });

        realBtn.addEventListener("click", () => {
          loginForm.style.display = "none";
          landForm.style.display = "none";
          realForm.style.display = "block";
        });

        document.querySelectorAll(".back-btn").forEach(btn => {
          btn.addEventListener("click", (e) => {
            e.preventDefault();
            landForm.style.display = "none";
            realForm.style.display = "none";
            loginForm.style.display = "block";
          });
        });
      });
    </script>

    <footer class="footer">
      <div class="footer-container">
        <div class="footer-column">
          <div class="footer-logo">
              <img src="images/logo.jpg" alt="Esham Logo" />
          </div>
        </div>

        <div class="footer-column">
          <h3 class="footer-title">Esham</h3>
          <ul class="footer-links">
            <li><a href="Musahem.html">Musahem</a></li>
            <li><a href="Join.html">Join Our Team</a></li>
            <li><a href="Terms.html">Terms and Conditions</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3 class="footer-title">Product</h3>
          <ul class="footer-links">
            <li><a href="Help.html">Help Center</a></li>
            <li><a href="FAQ.html">FAQs</a></li>
            <li><a href="Privacy& Policy.html">Privacy Policy</a></li>
          </ul>
        </div>

        <div class="footer-column contact-info">
          <h3 class="footer-title">Contact Number</h3>
          <p class="contact-number"><a href="tel:01123456708">011 234 56708</a></p>
          <p class="working-hours">
            Official Working Hours<br />
            Sunday to Thursday: 9:00 AM to 4:00 PM
          </p>
        </div>
      </div>

      <div class="footer-description">
        <p>
          Esham is an innovative and authorized digital platform that connects landowners with real estate developers through an integrated system designed to simplify and accelerate the development of real estate projects.
        </p>
        <p class="footer-disclaimer">
          Disclaimer: Esham is not an investment website and does not offer any financing or direct investment services. Our role is limited to providing a digital platform that connects landowners with real estate developers.
        </p>
      </div>
    </footer>

    <script>
      const params = new URLSearchParams(window.location.search);
      const error = params.get("error");
      if (error) {
        const errorDiv = document.getElementById("login-error");
        if (errorDiv) errorDiv.innerText = decodeURIComponent(error);
      }
    </script>
    
</body>
</html>
